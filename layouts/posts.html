<div class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/#/">MeanChat</a>
    </div>
    <div class="navbar-collapse collapse navbar-responsive-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="active">
          <a href="/#/">Posts</a>
        </li>
        <li ng-if='currentUser == null'><a href="#/register">Register</a></li>
        <li ng-if='currentUser == null'><a href="#/login">Login</a></li>
        <li class="dropdown" ng-if='currentUser'>
          <a href="/#/" clas"dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
            Logged in as {{currentUser.username}}<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="" ng-click="logout()">Log Out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class='container'>
  <form ng-if='currentUser' role='form'>
    <div class='form-group'>
      <div class="input-group">
        <input ng-model='$parent.postBody' class='form-control'/>
        <span class='input-group-btn'>
          <button ng-click='$parent.addPost()' class='btn btn-default'>Add new post</button>
        </span>
      </div>
    </div>
  </form>

  <ul class='list-group'>
    <li ng-repeat="post in posts | orderBy:'-date'" class='list-group-item'>
      <strong>@{{ post.username }}</strong>
      <span>{{ post.body }}</span>
    </li>
  </ul>
</div>
